<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Saving and Restoring States | node-red-contrib-home-assistant-websocket</title>
    <meta name="description" content="Node-RED integration with Home Assistant through the WebSocket and HTTP API">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/node-red-contrib-home-assistant-websocket/favicon.ico">
    
    <link rel="preload" href="/node-red-contrib-home-assistant-websocket/assets/css/0.styles.adb5772a.css" as="style"><link rel="preload" href="/node-red-contrib-home-assistant-websocket/assets/js/app.a92b787d.js" as="script"><link rel="preload" href="/node-red-contrib-home-assistant-websocket/assets/js/2.b9376dcd.js" as="script"><link rel="preload" href="/node-red-contrib-home-assistant-websocket/assets/js/8.ec6433c6.js" as="script"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/10.ce96fa65.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/11.60e9de39.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/12.725463d7.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/13.10764a32.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/14.68f40abb.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/15.61c9a91c.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/16.3de95dbe.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/17.b5a20714.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/18.5ed6e3c6.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/19.caa6962c.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/20.1cdf3efe.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/21.ab5af733.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/22.e3da0f6f.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/23.a9185e9f.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/24.dffd6abf.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/25.9fc4de27.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/26.f4377c95.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/27.1bd7d922.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/28.f5817633.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/29.7cba7294.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/3.53632578.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/30.c976f57c.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/31.ea94efbf.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/32.051889da.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/33.4ca28be0.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/34.fe4172ac.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/35.81e3b42a.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/36.56199dba.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/37.d8ee6d33.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/38.fc025632.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/39.eec6806d.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/4.7970f821.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/40.73d870ee.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/5.f67e592b.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/6.403f9c2c.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/7.fc5220a0.js"><link rel="prefetch" href="/node-red-contrib-home-assistant-websocket/assets/js/9.0c59e6f4.js">
    <link rel="stylesheet" href="/node-red-contrib-home-assistant-websocket/assets/css/0.styles.adb5772a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/node-red-contrib-home-assistant-websocket/" class="home-link router-link-active"><!----> <span class="site-name">node-red-contrib-home-assistant-websocket</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/guide/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/node/" class="nav-link">
  Nodes
</a></div><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/FAQ.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/cookbook/" class="nav-link router-link-active">
  Cookbook
</a></div> <a href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/guide/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/node/" class="nav-link">
  Nodes
</a></div><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/FAQ.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/node-red-contrib-home-assistant-websocket/cookbook/" class="nav-link router-link-active">
  Cookbook
</a></div> <a href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Cookbook</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/get-entities.html" class="sidebar-link">Get Entities Examples</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/jsonata.html" class="sidebar-link">JSONata Examples</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/motion-triggered-light.html" class="sidebar-link">Motion Triggered Light</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/saving-and-restoring-states.html" class="active sidebar-link">Saving and Restoring States</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/get-state_changed-events-based-on-area.html" class="sidebar-link">Get state_changed Events Based on Area</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/sun-events.html" class="sidebar-link">Turn Light On/Off with Sunset/Sunrise</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/vacation-mode.html" class="sidebar-link">Vacation Mode</a></li><li><a href="/node-red-contrib-home-assistant-websocket/cookbook/expiration-date-monitor.html" class="sidebar-link">Expiration Date Monitor with notification</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="saving-and-restoring-states"><a href="#saving-and-restoring-states" class="header-anchor">#</a> Saving and Restoring States</h1> <p>Here are several examples using the get-entities node to get the states of
several entities and then how to restore the entity states.</p> <p><img src="data:image/png;base64,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" alt="screenshot"></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;953f4576.faa588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ha-get-entities&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;8d00ebbc.99a928&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Get States&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;entity_id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;^(light|switch|climate)\\.+&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;re&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;output_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_empty_results&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_results_count&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">294</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;2dab5a86.e54686&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;821d957.d510168&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;inject&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Store states&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payloadType&quot;</span><span class="token operator">:</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;repeat&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;crontab&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;once&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;onceDelay&quot;</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">118</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;953f4576.faa588&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;5bc878cb.d80f08&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;comment&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;How I would do store states&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">152</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;2dab5a86.e54686&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transform data&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;func&quot;</span><span class="token operator">:</span><span class="token string">&quot;const entities = msg.payload.map((e) =&gt; {\n    const domain = e.entity_id.split('.')[0];\n    const payload = {};\n\n    switch(domain) {\n        case 'switch':\n        case 'light':\n            payload.domain = domain;\n            payload.service = `turn_${e.state}`;\n            payload.data = { entity_id: e.entity_id };    \n            break;\n        case 'climate':\n            payload.domain = 'climate';\n            payload.service = `set_temperature`;\n            payload.data = {\n                entity_id: e.entity_id,\n                temperature: e.attributes.temperature,\n                target_temp_low: e.attributes.min_temp,\n                target_temp_high: e.attributes.max_temp,\n                operation_mode: e.attributes.operation_mode\n            };\n            break;\n    }\n    return payload;\n});\n// Save the states\nflow.set('savedStates', entities);\n\n// create a blank message object with out new payload\nmsg = { payload: entities };\nreturn msg;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;noerr&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">480</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;ceaf42e4.e245d&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;ceaf42e4.e245d&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;debug&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;active&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;tosidebar&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;console&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;tostatus&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;complete&quot;</span><span class="token operator">:</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">646</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p><img src="/node-red-contrib-home-assistant-websocket/assets/img/saving-and-restoring-states_02.6a95fa9c.png" alt="screenshot"></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;f14f56e1.4d9a28&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;inject&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Store states&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payloadType&quot;</span><span class="token operator">:</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;repeat&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;crontab&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;once&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;onceDelay&quot;</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">118</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;3790fc30.12b354&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;18d6f55.537770b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;94a3c52.9fa9738&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;18d6f55.537770b&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ha-get-entities&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;8d00ebbc.99a928&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Get Switches&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;entity_id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;starts_with&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;switch&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;includes&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;on,off&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;output_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;split&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_empty_results&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_results_count&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">290</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;19e85c0e.f4d1d4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;94a3c52.9fa9738&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ha-get-entities&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;8d00ebbc.99a928&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Get Lights&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;entity_id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;starts_with&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;includes&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;on,off&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;output_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;split&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_empty_results&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_results_count&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">290</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">208</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;19e85c0e.f4d1d4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;297ff244.47ca4e&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;comment&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Easier to follow version&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">132</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;3790fc30.12b354&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ha-get-entities&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;8d00ebbc.99a928&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Get Climate&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;entity_id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;starts_with&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;climate&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;output_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;split&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_empty_results&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_results_count&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">290</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">304</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;36705576.17a42a&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;19e85c0e.f4d1d4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transform data&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;func&quot;</span><span class="token operator">:</span><span class="token string">&quot;const payload = {};\npayload.domain = msg.payload.entity_id.split('.')[0];\npayload.service = `turn_${msg.payload.state}`;\npayload.data = { entity_id: msg.payload.entity_id };\n\n// create a blank message object with out new payload\nmsg = { payload: payload };\nreturn msg;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;noerr&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">476</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;2b7e0299.1ce7ae&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;36705576.17a42a&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transform data&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;func&quot;</span><span class="token operator">:</span><span class="token string">&quot;const payloads = [];\nconst payload = {};\npayload.domain = 'climate';\npayload.service = `set_temperature`;\npayload.data = {\n    entity_id: msg.payload.entity_id,\n    temperature: msg.payload.attributes.temperature,\n    target_temp_low: msg.payload.attributes.min_temp,\n    target_temp_high: msg.payload.attributes.max_temp,\n    operation_mode: msg.payload.attributes.operation_mode\n};\n\n// create a blank message object with out new payload\nmsg = { payload: payload };\nreturn msg;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;noerr&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">476</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">304</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;2b7e0299.1ce7ae&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;e254a879.41d408&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;comment&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;function nodes could be replaced with a change nodes&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">596</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">208</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;2b7e0299.1ce7ae&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;join&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mode&quot;</span><span class="token operator">:</span><span class="token string">&quot;custom&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;build&quot;</span><span class="token operator">:</span><span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;propertyType&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;joiner&quot;</span><span class="token operator">:</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;joinerType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;accumulate&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;count&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;reduceRight&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;reduceExp&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;reduceInit&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;reduceInitType&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;reduceFixup&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">654</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;b3db19bf.61d8e8&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;472ff71c.c342c8&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;debug&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;active&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;tosidebar&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;console&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;tostatus&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;complete&quot;</span><span class="token operator">:</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">1026</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;b3db19bf.61d8e8&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;6cb9e978.bf4588&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;t&quot;</span><span class="token operator">:</span><span class="token string">&quot;set&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;p&quot;</span><span class="token operator">:</span><span class="token string">&quot;savedStates&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;pt&quot;</span><span class="token operator">:</span><span class="token string">&quot;flow&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;to&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;tot&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;from&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;to&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;reg&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">832</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;472ff71c.c342c8&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="screenshot"></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;ab90e938.1eff18&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;inject&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;3c84cc55.8f02f4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Restore states&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payloadType&quot;</span><span class="token operator">:</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;repeat&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;crontab&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;once&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;onceDelay&quot;</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">294</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">656</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;a5a0930.ed3ae7&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;a5a0930.ed3ae7&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;3c84cc55.8f02f4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Get Saved States&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;t&quot;</span><span class="token operator">:</span><span class="token string">&quot;set&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;p&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;pt&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;to&quot;</span><span class="token operator">:</span><span class="token string">&quot;savedStates&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;tot&quot;</span><span class="token operator">:</span><span class="token string">&quot;flow&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;from&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;to&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;reg&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">490</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">656</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;6247c7cf.5cb858&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;8f420c5d.82373&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;debug&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;3c84cc55.8f02f4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;active&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;tosidebar&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;console&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;tostatus&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;complete&quot;</span><span class="token operator">:</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">998</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">656</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;6247c7cf.5cb858&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;split&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;3c84cc55.8f02f4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;splt&quot;</span><span class="token operator">:</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;spltType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;arraySplt&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;arraySpltType&quot;</span><span class="token operator">:</span><span class="token string">&quot;len&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;stream&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;addname&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">658</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">656</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;719b7b39.cbf0e4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;719b7b39.cbf0e4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;api-call-service&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;3c84cc55.8f02f4&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Restore State&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;debugenabled&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;service_domain&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;service&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;entityId&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mergecontext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mustacheAltTags&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">816</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">656</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;8f420c5d.82373&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p>As you can see in the above examples the <code>switch</code> and <code>light</code> domains are just saving and restoring the state, on/off. But what if some users wanted to also save and restore the brightness level or not. The <code>climate</code> domain is saving and restoring more than just the state.</p> <p><strong>Also see:</strong></p> <ul><li><a href="/node-red-contrib-home-assistant-websocket/node/get-entities.html">get-entities node</a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket/edit/dev/docs/cookbook/saving-and-restoring-states.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/24/2020, 1:31:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/node-red-contrib-home-assistant-websocket/cookbook/motion-triggered-light.html" class="prev">
        Motion Triggered Light
      </a></span> <span class="next"><a href="/node-red-contrib-home-assistant-websocket/cookbook/get-state_changed-events-based-on-area.html">
        Get state_changed Events Based on Area
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/node-red-contrib-home-assistant-websocket/assets/js/app.a92b787d.js" defer></script><script src="/node-red-contrib-home-assistant-websocket/assets/js/2.b9376dcd.js" defer></script><script src="/node-red-contrib-home-assistant-websocket/assets/js/8.ec6433c6.js" defer></script>
  </body>
</html>
